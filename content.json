{"meta":{"title":"Formyownçš„åšå®¢","subtitle":null,"description":null,"author":"Formyown","url":"http://formyown.github.io"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2020-07-29T08:23:34.916Z","updated":"2020-07-29T08:23:34.916Z","comments":false,"path":"/404.html","permalink":"http://formyown.github.io//404.html","excerpt":"","text":""},{"title":"å…³äº","date":"2020-07-29T08:23:34.920Z","updated":"2020-07-29T08:23:34.920Z","comments":false,"path":"about/index.html","permalink":"http://formyown.github.io/about/index.html","excerpt":"","text":"æœ¬ç§‘ï¼Œæ¯•ä¸šäº University of Wollongong (Sydney, Australia) è®¡ç®—æœºç§‘å­¦ä¸“ä¸šï¼Œè½¯ä»¶å·¥ç¨‹æ–¹å‘ æ‹¥æœ‰ä¸°å¯Œçš„è½¯ä»¶å¼€å‘ç»éªŒ ç†Ÿæ‚‰å¸¸è§ç¼–ç¨‹è¯­è¨€åŒ…å« Java, Kotlin, C#, C/C++, JavaScript, TypeScript, Lua, Python, Smali, æ±‡ç¼–ç­‰ã€‚ ç†Ÿæ‚‰è½¯ä»¶å¼€å‘æ¡†æ¶åŒ…å« SpringBoot, SpringCloud, NestJs, express, Vue, React, Mpx ç­‰ã€‚ ç†Ÿæ‚‰.NET core, nodejs, electron, jvmç­‰ç¯å¢ƒåº”ç”¨å¼€å‘ã€‚ æœ‰ä¸€å®šçš„åµŒå…¥å¼åŸºç¡€ï¼Œäº†è§£8051, AVR, ARMåµŒå…¥å¼ç³»ç»Ÿå¼€å‘ã€‚ æœ‰ä¸€å®šçš„ç¡¬ä»¶åŸºç¡€ã€‚ ç›®å‰ä¸“æ³¨äºåç«¯æŠ€æœ¯ï¼Œé«˜æ€§èƒ½é«˜å¯ç”¨WEBåº”ç”¨å¼€å‘ï¼Œå¾®æœåŠ¡æ¶æ„è®¾è®¡ã€‚ ç°å°±èŒäºåŒ—äº¬æ·å¤©ç§‘æŠ€æœ‰é™è´£ä»»å…¬å¸ å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆ 2016å¹´10æœˆ-2018å¹´12æœˆ ä¸“æ³¨äºå¼€å‘åŒºå—é“¾é’±åŒ…é¡¹ç›®ï¼Œåç«¯å¼€å‘å·¥ç¨‹å¸ˆ&amp;æ¶æ„è®¾è®¡ 2016å¹´5æœˆ-2018å¹´9æœˆ ä¸“æ³¨äºå¼€å‘å¹¿å‘ŠæŠ•æ”¾å¹³å°ï¼Œåç«¯å¼€å‘å·¥ç¨‹å¸ˆ 2016å¹´ä¹‹å‰ ä¸“æ³¨äºå¼€å‘ä¸ªäººé¡¹ç›®"},{"title":"ä¹¦å•","date":"2020-07-29T08:23:34.920Z","updated":"2020-07-29T08:23:34.920Z","comments":false,"path":"books/index.html","permalink":"http://formyown.github.io/books/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2020-07-29T08:23:34.920Z","updated":"2020-07-29T08:23:34.920Z","comments":false,"path":"categories/index.html","permalink":"http://formyown.github.io/categories/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2020-07-29T08:23:34.920Z","updated":"2020-07-29T08:23:34.920Z","comments":true,"path":"links/index.html","permalink":"http://formyown.github.io/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2020-07-29T08:23:34.920Z","updated":"2020-07-29T08:23:34.920Z","comments":false,"path":"repository/index.html","permalink":"http://formyown.github.io/repository/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-07-29T08:23:34.920Z","updated":"2020-07-29T08:23:34.920Z","comments":false,"path":"tags/index.html","permalink":"http://formyown.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Nettyè·å–å¹¶æ£€æŸ¥Websocketæ¡æ‰‹è¯·æ±‚","slug":"Nettyè·å–å¹¶æ£€æŸ¥Websocketæ¡æ‰‹è¯·æ±‚","date":"2020-07-29T12:00:00.000Z","updated":"2020-07-29T08:23:34.920Z","comments":true,"path":"2020/07/29/Nettyè·å–å¹¶æ£€æŸ¥Websocketæ¡æ‰‹è¯·æ±‚/","link":"","permalink":"http://formyown.github.io/2020/07/29/Nettyè·å–å¹¶æ£€æŸ¥Websocketæ¡æ‰‹è¯·æ±‚/","excerpt":"","text":"åœ¨ä½¿ç”¨Nettyå¼€å‘WebsocketæœåŠ¡æ—¶ï¼Œé€šå¸¸éœ€è¦è§£ææ¥è‡ªå®¢æˆ·ç«¯è¯·æ±‚çš„URLã€Headersç­‰ç­‰ç›¸å…³å†…å®¹ï¼Œå¹¶åšç›¸å…³æ£€æŸ¥æˆ–å¤„ç†ã€‚æœ¬æ–‡å°†è®¨è®ºä¸¤ç§å®ç°æ–¹æ³•ã€‚ æ–¹æ³•ä¸€ï¼šåŸºäºHandshakeCompleteè‡ªå®šä¹‰äº‹ä»¶ ç‰¹ç‚¹ï¼šä½¿ç”¨ç®€å•ã€æ ¡éªŒåœ¨æ¡æ‰‹æˆåŠŸä¹‹åã€å¤±è´¥ä¿¡æ¯å¯ä»¥é€šè¿‡Websocketå‘é€å›å®¢æˆ·ç«¯ã€‚ 1.1 ä»nettyæºç å‡ºå‘ ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬å°†nettyå†…ç½®çš„WebSocketServerProtocolHandlerä½œä¸ºWebsocketåè®®çš„ä¸»è¦å¤„ç†å™¨ã€‚é€šè¿‡ç ”ç©¶å…¶ä»£ç æˆ‘ä»¬äº†è§£åˆ°åœ¨æœ¬å¤„ç†å™¨è¢«æ·»åŠ åˆ°PiplineåhandlerAddedæ–¹æ³•å°†ä¼šè¢«è°ƒç”¨ã€‚æ­¤æ–¹æ³•ç»è¿‡ç®€å•çš„æ£€æŸ¥åå°†WebSocketHandshakeHandleræ·»åŠ åˆ°äº†æœ¬å¤„ç†å™¨ä¹‹å‰ï¼Œç”¨äºå¤„ç†æ¡æ‰‹ç›¸å…³ä¸šåŠ¡ã€‚ æˆ‘ä»¬éƒ½çŸ¥é“Websocketåè®®åœ¨æ¡æ‰‹æ—¶æ˜¯é€šè¿‡HTTP(S)åè®®è¿›è¡Œçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªWebSocketHandshakeHandleråº”è¯¥å°±æ˜¯å¤„ç†HTTPç›¸å…³çš„æ•°æ®çš„å§ï¼Ÿ ä¸‹æ–¹ä»£ç ç»è¿‡ç²¾ç®€ï¼Œæ”¾å¿ƒé˜…è¯»ğŸ˜„ 123456789101112131415package io.netty.handler.codec.http.websocketx;public class WebSocketServerProtocolHandler extends WebSocketProtocolHandler &#123; @Override public void handlerAdded(ChannelHandlerContext ctx) &#123; ChannelPipeline cp = ctx.pipeline(); if (cp.get(WebSocketServerProtocolHandshakeHandler.class) == null) &#123; // Add the WebSocketHandshakeHandler before this one. cp.addBefore(ctx.name(), WebSocketServerProtocolHandshakeHandler.class.getName(), new WebSocketServerProtocolHandshakeHandler(serverConfig)); &#125; //... &#125;&#125; æˆ‘ä»¬æ¥çœ‹çœ‹WebSocketServerProtocolHandshakeHandleréƒ½åšäº†ä»€ä¹ˆæ“ä½œã€‚ channelReadæ–¹æ³•ä¼šå°è¯•æ¥æ”¶ä¸€ä¸ªFullHttpRequestå¯¹è±¡ï¼Œè¡¨ç¤ºæ¥è‡ªå®¢æˆ·ç«¯çš„HTTPè¯·æ±‚ï¼ŒéšåæœåŠ¡å™¨å°†ä¼šè¿›è¡Œæ¡æ‰‹ç›¸å…³æ“ä½œï¼Œæ­¤å¤„çœç•¥äº†æ¡æ‰‹å¤§éƒ¨åˆ†ä»£ç ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œé˜…è¯»ã€‚ å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨ç¡®è®¤æ¡æ‰‹æˆåŠŸåï¼ŒchannelReadå°†ä¼šè°ƒç”¨ä¸¤æ¬¡fireUserEventTriggeredï¼Œæ­¤æ–¹æ³•å°†ä¼šè§¦å‘å…¶ä»–ï¼ˆåœ¨æ­¤å¤„ç†å™¨ä¹‹åï¼‰çš„å¤„ç†å™¨ä¸­åä¸ºçš„serEventTriggeredæ–¹æ³•ã€‚å…¶ä¸­ä¸€ä¸ªæ–¹æ³•ä¼ å…¥äº†WebSocketServerProtocolHandlerå¯¹è±¡ï¼Œæ­¤å¯¹è±¡ä¿å­˜äº†HTTPè¯·æ±‚ç›¸å…³ä¿¡æ¯ã€‚é‚£ä¹ˆè§£å†³æ–¹æ¡ˆé€æ¸æµ®å‡ºæ°´é¢ï¼Œé€šè¿‡ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶å³å¯å®ç°æ£€æŸ¥æ¡æ‰‹çš„HTTPè¯·æ±‚ã€‚ 12345678910111213141516171819202122232425262728293031323334package io.netty.handler.codec.http.websocketx;/** * Handles the HTTP handshake (the HTTP Upgrade request) for &#123;@link WebSocketServerProtocolHandler&#125;. */class WebSocketServerProtocolHandshakeHandler extends ChannelInboundHandlerAdapter &#123; @Override public void channelRead(final ChannelHandlerContext ctx, Object msg) throws Exception &#123; final FullHttpRequest req = (FullHttpRequest) msg; if (isNotWebSocketPath(req)) &#123; ctx.fireChannelRead(msg); return; &#125; try &#123; //... if (!future.isSuccess()) &#123; &#125; else &#123; localHandshakePromise.trySuccess(); // Kept for compatibility ctx.fireUserEventTriggered( WebSocketServerProtocolHandler.ServerHandshakeStateEvent.HANDSHAKE_COMPLETE); ctx.fireUserEventTriggered( new WebSocketServerProtocolHandler.HandshakeComplete( req.uri(), req.headers(), handshaker.selectedSubprotocol())); &#125; &#125; finally &#123; req.release(); &#125; &#125;&#125; 1.2 è§£å†³æ–¹æ¡ˆ ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ã€‚é€šè¿‡æŠ›å‡ºå¼‚å¸¸å¯ä»¥ç»ˆæ­¢é“¾æ¥ï¼ŒåŒæ—¶å¯ä»¥åˆ©ç”¨ctxå‘å®¢æˆ·ç«¯ä»¥Websocketåè®®è¿”å›é”™è¯¯ä¿¡æ¯ã€‚å› ä¸ºæ­¤æ—¶æ¡æ‰‹å·²ç»å®Œæˆï¼Œæ‰€ä»¥è™½ç„¶è¿™ç§æ–¹æ¡ˆç®€å•çš„è¿‡åˆ†ï¼Œä½†æ˜¯æ•ˆç‡å¹¶ä¸é«˜ï¼Œè€—è´¹æœåŠ¡ç«¯èµ„æºã€‚ 12345678910private final class ServerHandler extends SimpleChannelInboundHandler&lt;DeviceDataPacket&gt; &#123; @Override public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception &#123; if (evt instanceof WebSocketServerProtocolHandler.HandshakeComplete) &#123; // åœ¨æ­¤å¤„è·å–URLã€Headersç­‰ä¿¡æ¯å¹¶åšæ ¡éªŒï¼Œé€šè¿‡throwå¼‚å¸¸æ¥ä¸­æ–­é“¾æ¥ã€‚ &#125; super.userEventTriggered(ctx, evt); &#125;&#125; 1.3 ChannelInitializerå®ç° é™„ä¸ŠChannelåˆå§‹åŒ–ä»£ç ä½œä¸ºå‚è€ƒã€‚ 12345678910111213private final class ServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; &#123; @Override protected void initChannel(SocketChannel ch) &#123; ch.pipeline() .addLast(\"http-codec\", new HttpServerCodec()) .addLast(\"chunked-write\", new ChunkedWriteHandler()) .addLast(\"http-aggregator\", new HttpObjectAggregator(8192)) .addLast(\"log-handler\", new LoggingHandler(LogLevel.WARN)) .addLast(\"ws-server-handler\", new WebSocketServerProtocolHandler(endpointUri.getPath())) .addLast(\"server-handler\", new ServerHandler()); &#125;&#125; æ–¹æ³•äºŒï¼šåŸºäºæ–°å¢å®‰å…¨æ£€æŸ¥å¤„ç†å™¨ ç‰¹ç‚¹ï¼šä½¿ç”¨ç›¸å¯¹å¤æ‚ã€æ ¡éªŒåœ¨æ¡æ‰‹æˆåŠŸä¹‹å‰ã€å¤±è´¥ä¿¡æ¯å¯ä»¥é€šè¿‡HTTPè¿”å›å®¢æˆ·ç«¯ã€‚ 2.1 è§£å†³æ–¹æ¡ˆ ç¼–å†™ä¸€ä¸ªå…¥ç«™å¤„ç†å™¨ï¼Œæ¥æ”¶FullHttpMessageæ¶ˆæ¯ï¼Œåœ¨Websocketå¤„ç†å™¨ä¹‹å‰æ£€æµ‹æ‹¦æˆªè¯·æ±‚ä¿¡æ¯ã€‚ä¸‹é¢çš„ä¾‹å­ä¸»è¦åšäº†å››ä»¶äº‹æƒ…ï¼š ä»HTTPè¯·æ±‚ä¸­æå–å…³å¿ƒçš„æ•°æ® å®‰å…¨æ£€æŸ¥ å°†ç»“æœå’Œå…¶ä»–æ•°æ®ç»‘å®šåœ¨Channel è§¦å‘å®‰å…¨æ£€æŸ¥å®Œæ¯•è‡ªå®šä¹‰äº‹ä»¶ 1234567891011121314151617181920212223242526272829303132public class SecurityServerHandler extends ChannelInboundHandlerAdapter &#123; private static final ObjectMapper json = new ObjectMapper(); public static final AttributeKey&lt;SecurityCheckComplete&gt; SECURITY_CHECK_COMPLETE_ATTRIBUTE_KEY = AttributeKey.valueOf(\"SECURITY_CHECK_COMPLETE_ATTRIBUTE_KEY\"); @Override public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception &#123; if(msg instanceof FullHttpMessage)&#123; //extracts device information headers HttpHeaders headers = ((FullHttpMessage) msg).headers(); String uuid = Objects.requireNonNull(headers.get(\"device-connection-uuid\")); String devDescJson = Objects.requireNonNull(headers.get(\"device-description\")); //deserialize device description DeviceDescription devDesc = json.readValue(devDescJson, DeviceDescriptionWithCertificate.class); //check ...... // SecurityCheckComplete complete = new SecurityCheckComplete(uuid, devDesc); ctx.channel().attr(SECURITY_CHECK_COMPLETE_ATTRIBUTE_KEY).set(complete); ctx.fireUserEventTriggered(complete); &#125; //other protocols super.channelRead(ctx, msg); &#125; @Getter @AllArgsConstructor public static final class SecurityCheckComplete &#123; private String connectionUUID; private DeviceDescription deviceDescription; &#125;&#125; åœ¨ä¸šåŠ¡é€»è¾‘å¤„ç†å™¨ä¸­ï¼Œå¯ä»¥é€šè¿‡ç»„åˆè‡ªå®šä¹‰çš„å®‰å…¨æ£€æŸ¥äº‹ä»¶å’ŒWebsocketæ¡æ‰‹å®Œæˆäº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨å®‰å…¨æ£€æŸ¥åè¿›è¡Œä¸‹ä¸€æ­¥è‡ªå®šä¹‰ä¸šåŠ¡æ£€æŸ¥ï¼Œåœ¨æ¡æ‰‹å®Œæˆåå‘é€è‡ªå®šä¹‰å†…å®¹ç­‰ç­‰ï¼Œå°±çœ‹å„ä½åŒå­¦è‡ªç”±å‘æŒ¥äº†ã€‚ 12345678910111213141516171819 private final class ServerHandler extends SimpleChannelInboundHandler&lt;DeviceDataPacket&gt; &#123; public final AttributeKey&lt;DeviceConnection&gt; @Override public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception &#123; if (evt instanceof SecurityCheckComplete)&#123; log.info(\"Security check has passed\"); SecurityCheckComplete complete = (SecurityCheckComplete) evt; listener.beforeConnect(complete.getConnectionUUID(), complete.getDeviceDescription()); &#125; else if (evt instanceof WebSocketServerProtocolHandler.HandshakeComplete) &#123; log.info(\"Handshake has completed\"); SecurityCheckComplete complete = ctx.channel().attr(SecurityServerHandler.SECURITY_CHECK_COMPLETE_ATTRIBUTE_KEY).get(); DeviceDataServer.this.listener.postConnect(complete.getConnectionUUID(), new DeviceConnection(ctx.channel(), complete.getDeviceDescription())); &#125; super.userEventTriggered(ctx, evt); &#125;&#125; 2.2 ChannelInitializerå®ç° é™„ä¸ŠChannelåˆå§‹åŒ–ä»£ç ä½œä¸ºå‚è€ƒã€‚ 123456789101112131415private final class ServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; &#123; @Override protected void initChannel(SocketChannel ch) &#123; ch.pipeline() .addLast(\"http-codec\", new HttpServerCodec()) .addLast(\"chunked-write\", new ChunkedWriteHandler()) .addLast(\"http-aggregator\", new HttpObjectAggregator(8192)) .addLast(\"log-handler\", new LoggingHandler(LogLevel.WARN)) .addLast(\"security-handler\", new SecurityServerHandler()) .addLast(\"ws-server-handler\", new WebSocketServerProtocolHandler(endpointUri.getPath())) .addLast(\"packet-codec\", new DataPacketCodec()) .addLast(\"server-handler\", new ServerHandler()); &#125;&#125; æ€»ç»“ ä¸Šè¿°ä¸¤ç§æ–¹å¼åˆ†åˆ«åœ¨æ¡æ‰‹å®Œæˆåå’Œæ¡æ‰‹ä¹‹å‰æ‹¦æˆªæ£€æŸ¥ï¼›å®ç°å¤æ‚åº¦å’Œæ€§èƒ½ç•¥æœ‰ä¸åŒï¼Œå¯ä»¥é€šè¿‡å…·ä½“ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ³•ã€‚ Nettyå¢å¼ºäº†è´£ä»»é“¾æ¨¡å¼ï¼Œä½¿ç”¨userEventä¼ é€’è‡ªå®šä¹‰äº‹ä»¶ä½¿å¾—å„ä¸ªå¤„ç†å™¨ä¹‹é—´å‡å°‘è€¦åˆï¼Œæ›´ä¸“æ³¨äºä¸šåŠ¡ã€‚ä½†æ˜¯ã€ç›¸æ¯”äºæµåŠ¨äºå„ä¸ªå¤„ç†å™¨ä¹‹é—´çš„&quot;ä¸»çº¿&quot;æ•°æ®æ¥è¯´ï¼ŒuserEventä¼ é€’çš„&quot;æ”¯çº¿&quot;æ•°æ®å¾€å¾€ä¸å—å…³æ³¨ã€‚é€šè¿‡é˜…è¯»Nettyå†…ç½®çš„å„ç§å¤„ç†å™¨æºç ï¼Œæ¢ç´¢å…¶äº§ç”Ÿçš„äº‹ä»¶ï¼ŒåŒæ—¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­åŠ ä»¥å–„ç”¨ï¼Œå¯ä»¥å‡å°‘å†—ä½™ä»£ç ã€‚å¦å¤–åœ¨å¼€å‘è‡ªå®šä¹‰çš„ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œåº”è¯¥ç§¯æåˆ©ç”¨userEventä¼ é€’äº‹ä»¶æ•°æ®ï¼Œé™ä½å„æ¨¡å—ä¹‹é—´ä»£ç è€¦åˆã€‚","categories":[{"name":"Netty","slug":"Netty","permalink":"http://formyown.github.io/categories/Netty/"},{"name":"Websocket","slug":"Netty/Websocket","permalink":"http://formyown.github.io/categories/Netty/Websocket/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"http://formyown.github.io/tags/Netty/"},{"name":"Websocket","slug":"Websocket","permalink":"http://formyown.github.io/tags/Websocket/"}]},{"title":"Decimaljsåœ¨class-transformerä¸­å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ","slug":"Decimaljsåœ¨class-transformerä¸­å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ","date":"2019-12-17T03:07:09.000Z","updated":"2020-07-29T08:23:34.916Z","comments":true,"path":"2019/12/17/Decimaljsåœ¨class-transformerä¸­å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ/","link":"","permalink":"http://formyown.github.io/2019/12/17/Decimaljsåœ¨class-transformerä¸­å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆ/","excerpt":"","text":"èƒŒæ™¯ åœ¨ä½¿ç”¨class-transformerè¿›è¡Œå¯¹è±¡è½¬æ¢å¹¶ä¸”é‡åˆ°ç±»å‹ä¸ºDecimalçš„æ•°æ®æ—¶å·¥ä½œä¸æ­£å¸¸ å¼‚å¸¸å¤ç° æˆ‘ä»¬æœ‰ä»¥ä¸‹ç±»å‹ï¼Œæ˜¯ç›®æ ‡å¯¹è±¡ï¼š 1234567export class OrderItemTransfer &#123; ///å¿½ç•¥å…¶ä»–æ— å…³å†…å®¹ @Expose() price: Decimal;&#125; ä»¥åŠï¼Œæºå¯¹è±¡å®šä¹‰ï¼š 123456789101112@Entity()export class OrderItem &#123; ///å¿½ç•¥å…¶ä»–æ— å…³å†…å®¹ @Column(&#123; type: \"decimal\", precision: 5, scale: 2, default: 0, transformer: new DecimalTransformer() &#125;) price: Decimal;&#125; æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°† OrderItem ç±»å‹çš„å¯¹è±¡è½¬æ¢åˆ° OrderItemTransfer ç±»å‹ã€‚äºæ˜¯æœ‰ä»¥ä¸‹ä»£ç ï¼š 123let transfer = plainToClass(OrderItemTransfer, entity);//å‘ç”Ÿå¼‚å¸¸: Error//Error: [DecimalError] Invalid argument: undefined å¼‚å¸¸åˆ†æ é€šè¿‡è¿½è¸ªè°ƒç”¨æ ˆå‘ç°å¦‚ä¸‹ä¿¡æ¯: æ‰¾åˆ°è°ƒç”¨Decimalæ„é€ å‡½æ•°çš„å…·ä½“ä»£ç  å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œç›´æ¥è°ƒç”¨äº†Decimalæ„é€ å‡½æ•°ï¼Œç„¶è€ŒDecimalçš„æ„é€ å‡½æ•°å¹¶ä¸æ”¯æŒå‚æ•°æ˜¯null/undefinedä»è€Œå¼•å‘äº†å¼‚å¸¸ã€‚ plainToClassè¿™ä¸ªæ–¹æ³•çš„è®¾è®¡æ˜¯é’ˆå¯¹plain objectåˆ°classçš„è½¬æ¢ï¼Œé€šè¿‡ä¸‹å›¾å¯è§ï¼Œä»–çš„ç±»å‹åˆ¤æ–­ç›¸å¯¹ç®€å• åœ¨åˆ¤æ–­å¯¹è±¡ç±»å‹æ˜¯objectä¹‹åå¹¶æ²¡æœ‰è¿›ä¸€æ­¥åˆ¤æ–­æ„é€ å‡½æ•°ç›¸å…³ä¿¡æ¯ï¼ˆé’ˆå¯¹plain objectçš„è®¾è®¡å¹¶ä¸éœ€è¦åˆ¤æ–­ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå¹¶ä¸å­˜åœ¨è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ï¼‰ã€‚ä½†æ˜¯è¿™ç§ç‰¹æ€§æ°å·§å¦¨ç¢äº†æˆ‘ä»¬ä½¿ç”¨ç±»ä¼¼äºDecimalè¿™ç§æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„ç±»å‹ã€‚ è§£å†³æ–¹æ¡ˆ å…¶å®2017å¹´å·²ç»æœ‰äººæè¿‡è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µç¡®å®æ˜¯æ­¤æ–¹æ³•çš„è®¾è®¡æƒ…å†µä¹‹å¤–ï¼Œè€Œä¸”å®˜æ–¹ä¹Ÿå¹¶æ²¡æœ‰ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚ä»…æœ‰æŸä½ç”¨æˆ·æä¾›çš„ä¸€ä¸ªä¸´æ—¶æ€§çš„è§£å†³æ–¹æ¡ˆ: 123else if (value[valueKey] instanceof Function) &#123; subValue = value[valueKey](); --&gt; Comment out this line&#125; è¿™ä¸ªè§£å†³æ–¹æ¡ˆçœŸçš„èƒ½è§£å†³é—®é¢˜ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¯ä»¥ï¼Œä½†ä¸ä¼˜é›…ã€‚ ä¸å…¶æäº¤prç»™class-transformerä¸å¦‚ä»å¦å¤–ä¸€ä¸ªè§’åº¦æ¥è§£å†³ï¼Œé‚£å°±æ˜¯ä»Decimal.jsä¸‹æ‰‹ã€‚ç”±äºé—®é¢˜å‘ç”Ÿåœ¨Decimalç±»å‹æ²¡æœ‰é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ºä½•ä¸æ‹“å±•ä»¥ä¸‹è¿™ä¸ªç±»å‹å‘¢ï¼Ÿ 12345678class DecimalPatch &#123; constructor(v) &#123; if (!v) v = 0; let d = new Decimal(v) as any; delete d.constructor; Object.assign(this, d); &#125;&#125; çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½è¦é—®å‡ ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆä¸ç”¨extendså‘¢ï¼Ÿç­”æ¡ˆæ˜¯class-transformeræ‹¿åˆ°çš„ç±»å‹ä»æ˜¯Decimalçš„æ„é€ å‡½æ•° ä¸ºä»€ä¹ˆè¦delete d.constructorå‘¢ï¼Ÿç­”æ¡ˆæ˜¯é˜²æ­¢plainToClasså†æ¬¡è°ƒç”¨constructor (è¿™ä¸ªæ–¹æ³•å¾ˆè¿·ï¼Œå®ƒä¼šè°ƒç”¨æºå¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•æ±‚å€¼èµ‹å€¼ç»™ç›®æ ‡å¯¹è±¡ï¼Œçœ‹ä¼¼æ˜¯ä¸ºäº†è°ƒç”¨getterä½œç”¨çš„å‡½æ•°ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åˆ¤æ–­èƒ½åŠ›ï¼Œå°±è¿æ„é€ å‡½æ•°ä¹Ÿä¸æ”¾è¿‡QAQã€‚ã€‚ã€‚) ç°åœ¨ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒ 12345678910111213@Entity()export class OrderItem &#123; ///å¿½ç•¥å…¶ä»–æ— å…³å†…å®¹ @Column(&#123; type: \"decimal\", precision: 5, scale: 2, default: 0, transformer: new DecimalTransformer() //è¿˜è®°å¾—è¿™é‡Œä¹ˆï¼Œ //è§£é‡Šä¸€ä¸‹ï¼ŒDecimalTransformeræ˜¯ç”¨äºå°†æ•°æ®åº“æŸ¥è¯¢å‡ºçš„æ•°æ®è½¬æ¢ä¸ºè‡ªå®šä¹‰æ•°æ® &#125;) price: Decimal;&#125; å®ƒé•¿è¿™ä¸ªæ ·å­ 12345678export class DecimalTransformer implements ValueTransformer &#123; to(data: Decimal): string &#123; return data.toString(); &#125; from(data: string): Decimal &#123; return new Decimal(data); //è¿™é‡Œå®ä¾‹åŒ–äº†å¯¹è±¡ &#125;&#125; é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸Šè¿°ä»£ç ï¼š 123from(data: string): DecimalPatch &#123; return new DecimalPatch(data);&#125; è¿™æ ·ï¼Œentityä¸­çš„æ•°æ®å®é™…ç±»å‹æ˜¯DecimalPatchï¼Œå¹¶ä¸”å·¥ä½œä¸€åˆ‡æ­£å¸¸","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://formyown.github.io/categories/JavaScript/"},{"name":"TypeScript","slug":"JavaScript/TypeScript","permalink":"http://formyown.github.io/categories/JavaScript/TypeScript/"}],"tags":[{"name":"Decimal.js","slug":"Decimal-js","permalink":"http://formyown.github.io/tags/Decimal-js/"},{"name":"class-transformer","slug":"class-transformer","permalink":"http://formyown.github.io/tags/class-transformer/"}]},{"title":"Ethereumä»¥å¤ªåŠç­¾åéªŒè¯ç®—æ³•Javaå®ç°","slug":"Ethereumä»¥å¤ªåŠç­¾åéªŒè¯ç®—æ³•Javaå®ç°","date":"2019-02-16T15:41:00.000Z","updated":"2020-07-29T08:23:34.920Z","comments":true,"path":"2019/02/16/Ethereumä»¥å¤ªåŠç­¾åéªŒè¯ç®—æ³•Javaå®ç°/","link":"","permalink":"http://formyown.github.io/2019/02/16/Ethereumä»¥å¤ªåŠç­¾åéªŒè¯ç®—æ³•Javaå®ç°/","excerpt":"","text":"å¼€å§‹ä¹‹å‰ åœ¨éªŒè¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è¿™äº›åŸºæœ¬çš„ä¿¡æ¯: ç­¾åï¼ŒåŸæ–‡ï¼Œåœ°å€ï¼ˆæˆ–è€…å…¬é’¥ï¼‰ Sig: 0x5f3c4ab309427d25cdc34a41cb432610c6c817e76ce9aec0c9336365063687ff29c92963edd6935f365d5f28c146f227881b626c7db18e87b9baf2089729741b1c Message: ç­¾åè¿™æ®µæ–‡å­—ä»¥éªŒè¯ä½ æ˜¯è¿™ä¸ªè´¦æˆ·çš„æŒæœ‰è€…ã€‚ Address: 0x1c52C6F743351fC9b97AE4Fe32194A588398FE69 å¤„ç†åŸæ–‡ é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†åŸä¸ºå¤„ç†ä¸ºHashå½¢å¼ 1MessageHash = keccak256(prefix + message) è¿™ä¸ªprefixæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ æˆ‘ä»¬æ¥çœ‹çœ‹ç­¾ååœ¨ç”Ÿæˆçš„æ—¶å€™æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚åœ¨Ethereumå®˜æ–¹æ–‡æ¡£ä¸­ï¼Œå…³äºeth_sigçš„æè¿°æ˜¯è¿™æ ·çš„ï¼š å¯ç–‘çš„åœ°æ–¹æ˜¯sign(keccak256(&quot;\\x19Ethereum Signed Message:\\n&quot; + len(message) + message)))ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨messageä¹‹å‰æ·»åŠ äº†ä¸€æ®µè¯ï¼š&quot;\\x19Ethereum Signed Message:\\n&quot; + len(message)ã€‚çœŸæ­£è¢«ç­¾åçš„æ•°æ®ä¸æ˜¯å•çº¯çš„messageï¼Œè€Œæ˜¯åœ¨messageä¹‹å‰æ·»åŠ äº†è¿™å¥è¯ï¼ˆprefixï¼‰åæ•´ä½“åšäº†hashè¿ç®—ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—hashçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦ç…§åšã€‚ 123String message = \"ç­¾åè¿™æ®µæ–‡å­—ä»¥éªŒè¯ä½ æ˜¯è¿™ä¸ªè´¦æˆ·çš„æŒæœ‰è€…ã€‚\";byte[] msgBuffer = message.getBytes(\"UTF-8\");byte[] msgPrefix = (\"\\u0019Ethereum Signed Message:\\n\" + msgBuffer.length).getBytes(\"UTF-8\"); ç°åœ¨å·²ç»å°†åŸå§‹æ¶ˆæ¯å’Œprefixéƒ½è½¬æ¢æˆäº†å­—èŠ‚æ•°ç»„çš„å½¢å¼ï¼Œæ¥ä¸‹æ¥éœ€è¦æŠŠè¿™ä¸¤éƒ¨åˆ†æ‹¼æ¥èµ·æ¥ 123byte[] msg = new byte[msgPrefix.length + msgBuffer.length];System.arraycopy(msgPrefix, 0, msg, 0, msgPrefix.length);System.arraycopy(msgBuffer, 0, msg, msgPrefix.length, msgBuffer.length); æ¯«æ— éš¾åº¦ï¼Œåˆ©ç”¨System.arraycopyæ–¹æ³•å¯ä»¥è½»æ¾å¾—æ‹·è´æ•°ç»„ï¼Œå¾—åˆ°msgåï¼Œå°±å¯ä»¥è®¡ç®—keccak256(msg)äº† 1234import org.ethereum.crypto.cryptohash.Keccak256;Keccak256 keccak256 = new Keccak256();byte[] msgHash = keccak256.copy().digest(msg); è¿™é‡Œä½¿ç”¨äº†ethereumjçš„åŠ å¯†åŒ…ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„åŒ…æˆ–è€…è‡ªå·±å®ç°keccak256ã€‚ ç»“æœï¼šmsgHash = 767cab717f7e9a3f56765c89f39887b9934a8e78ad4d0a2fb1fd0d009bb7012b (32å­—èŠ‚ï¼ŒHEX) å¥½äº†ï¼Œåˆ°ç›®å‰ä¸ºæ­¢msgHashå·²ç»æ‹¿åˆ°äº†ï¼Œæ¥ä¸‹æ¥å°±è¦å¤„ç†ç­¾åäº† å¤„ç†ç­¾å å†æ¥çœ‹ä¸€çœ¼ç­¾å: 0x5f3c4ab309427d25cdc34a41cb432610c6c817e76ce9aec0c9336365063687ff29c92963edd6935f365d5f28c146f227881b626c7db18e87b9baf2089729741b1c é•¿åº¦æ˜¯65ä¸ªå­—èŠ‚ã€‚ ç„¶è€Œè¿™æ®µç­¾åæ˜¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆçš„ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ r, s, vã€‚rå’Œsé•¿åº¦éƒ½æ˜¯32å­—èŠ‚ï¼Œvæ˜¯ä¸€ä¸ªå­—èŠ‚ã€‚ä¸‹é¢çš„ä»£ç å°†ä¼šå§ç­¾åæ‹†åˆ†æˆä¸Šè¿°éƒ¨åˆ†ã€‚ 12345import org.bouncycastle.util.encoders.Hex;byte[] r = Hex.decode(sig.substring(0, 64));byte[] s = Hex.decode(sig.substring(64, 128));byte v = Hex.decode(sig.substring(128, 130))[0]; ç»“æœï¼š r = 5f3c4ab309427d25cdc34a41cb432610c6c817e76ce9aec0c9336365063687ff (32å­—èŠ‚ï¼ŒHEX) s = 29c92963edd6935f365d5f28c146f227881b626c7db18e87b9baf2089729741b (32å­—èŠ‚ï¼ŒHEX) v = 28 (10è¿›åˆ¶) å¾—åˆ°è¿™ä¸‰ä¸ªæ•°æ®ä»¥åï¼Œå°±å¯ä»¥è¿›å…¥ä¸‹ä¸€ä¸ªç¯èŠ‚è¾£ ä»€ä¹ˆæ˜¯æ¤­åœ†æ›²çº¿æ•°å­—ç­¾åç®—æ³• è‹¥æœä½ ä¸æƒ³äº†è§£æˆ–è€…å·²ç»äº†è§£æ¤­åœ†æ›²çº¿çš„ç»†èŠ‚ï¼Œå¯ä»¥è·³è¿‡æ­¤å°èŠ‚ ECDSAï¼ŒECï¼Œå’ŒSecp256k1 ä»¥å¤ªåŠä½¿ç”¨çš„æ˜¯Elliptic Curve Digital Signature Algorithm (ECDSAï¼Œæ¤­åœ†æ›²çº¿æ•°å­—ç­¾åç®—æ³•)è¿›è¡Œç­¾åã€‚å¯æ˜¯Elliptic Curve(ECï¼Œæ¤­åœ†æ›²çº¿)åˆæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ ä¸ºäº†æœ‰ä¸€ä¸ªç›´è§‚æ„Ÿå—ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç®€å•ä½†æ˜¯é€šç”¨çš„æ–¹ç¨‹ y2=x3+ax+by^2 = x^3 + ax + by2=x3+ax+b å…¶ä¸­aéƒ½æ˜¯å¸¸æ•°bï¼Œä¸åŒçš„å–å€¼ä¼šå½¢æˆä¸åŒçš„æ›²çº¿æ–¹ç¨‹ åœ¨è¿™é‡Œhttps://www.desmos.com/calculator/9vv5aklebfï¼Œä½ å¯ä»¥è°ƒæ•´aå’Œbçš„å€¼æ¥è§‚å¯Ÿä¸åŒçš„å–å€¼ è¿™äº›æ–¹ç¨‹å’ŒåŠ å¯†æœ‰ä»€ä¹ˆè”ç³»ä¹ˆï¼Ÿå½“ç„¶ï¼ä¸è¿‡é¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯ç¾¤ä»¥åŠåŠ æ³• ç¾¤(Groups) å’Œé˜¿è´å°”ç¾¤ ç¾¤ï¼šè‹¥ éç©º é›†åˆ ğ”¾, å®šä¹‰åœ¨ ğ”¾ ä¸Šçš„ä¸€ä¸ªäºŒå…ƒè¿ç®—ï¼šåŠ æ³•ï¼Œç¬¦å·+è¡¨ç¤ºï¼Œæ»¡è¶³ï¼š å°é—­æ€§ï¼šå­˜åœ¨a,bâˆˆğ”¾a,b\\inğ”¾a,bâˆˆG, (a+b)âˆˆğ”¾(a+b)\\inğ”¾(a+b)âˆˆG ç»“åˆå¾‹ï¼šå­˜åœ¨a,b,câˆˆğ”¾a,b,c\\inğ”¾a,b,câˆˆG, (a+b)+c=a+(b+c)(a+b)+c = a+(b+c)(a+b)+c=a+(b+c) äº¤æ¢å¾‹ï¼šå­˜åœ¨a,bâˆˆğ”¾a,b\\inğ”¾a,bâˆˆG, a+b=b+aa+b = b+aa+b=b+a å•ä½å…ƒï¼šé›†åˆ ğ”¾ ä¸­æœ‰ä¸€ä¸ªç¡®åˆ‡çš„å€¼å³å•ä½å…ƒ000ï¼Œä½¿å¾— a+0=0+a=aa+0=0+a=aa+0=0+a=a é€†å…ƒï¼šé›†åˆ ğ”¾ ä¸­æ¯ä¸ªæˆå‘˜éƒ½æœ‰å…¶ç›¸åæ•°ï¼Œå³a+b=0a+b=0a+b=0 åˆ™(ğ”¾,+)(ğ”¾,+)(G,+)ç§°ä¸ºä¸€ä¸ªç¾¤ï¼Œæˆ–è€…åŠ æ³•ç¾¤ä¹Ÿå«é˜¿è´å°”ç¾¤ã€‚ æ¤­åœ†æ›²çº¿ä¸Šçš„åŠ æ³• å‡è®¾æ›²çº¿y2=x3+7y^2 = x^3 + 7y2=x3+7ä¸Šæœ‰ä¸¤ä¸ªç‚¹ï¼ŒPPPå’ŒQQQ P=(x1,y1)P = (x_1, y_1)P=(x1â€‹,y1â€‹) Q=(x2,y2)Q = (x_2, y_2)Q=(x2â€‹,y2â€‹) è¿‡ PPP å’Œ QQQ åšä¸€æ¡ç›´çº¿ï¼Œç›¸äº¤äºæ›²çº¿ Râ€²R&#x27;Râ€² è¿‡ Râ€²R&#x27;Râ€² åš XXX è½´å‚çº¿å¹¶ç›¸äº¤äºæ›²çº¿ RRR é‚£ä¹ˆ P+Q=RP + Q = RP+Q=R å¦‚ä½•è®¡ç®— P+QP + QP+Q è®¿é—® https://www.desmos.com/calculator/fttnxuzryp æŸ¥çœ‹æ›´å¤šå…³äºè®¡ç®—çš„ç»†èŠ‚ æˆ‘ä»¬å·²ç»çŸ¥é“äº† PPP å’Œ QQQ,åˆ P=(x1,y1)P = (x_1, y_1)P=(x1â€‹,y1â€‹) Q=(x2,y2)Q = (x_2, y_2)Q=(x2â€‹,y2â€‹) é‚£ä¹ˆè¿‡è¿™ä¸¤ç‚¹ç›´çº¿çš„æ–œç‡ k=(y2âˆ’y1)/(x2âˆ’x1)k = (y_2-y_1)/(x_2-x_1)k=(y2â€‹âˆ’y1â€‹)/(x2â€‹âˆ’x1â€‹) è®¾ R=(x3,y3)R=(x_3,y_3)R=(x3â€‹,y3â€‹) x3=k2âˆ’x1âˆ’x2x_3 = k^2 - x_1 - x_2x3â€‹=k2âˆ’x1â€‹âˆ’x2â€‹ y3=k(x1âˆ’x3)âˆ’y1y_3 = k(x_1 - x_3) - y_1y3â€‹=k(x1â€‹âˆ’x3â€‹)âˆ’y1â€‹ æ¤­åœ†æ›²çº¿å’Œé˜¿è´å°”ç¾¤ ä¸Šè¿°å¯¹äºæ¤­åœ†æ›²çº¿ä¸ŠåŠ æ³•çš„æè¿°å’Œè§£æä½¿æˆ‘ä»¬å¾—çŸ¥PPPQQQRRRéƒ½æ˜¯æ›²çº¿ä¸Šçš„ç‚¹ï¼Œä¸”æ»¡è¶³é˜¿è´å°”ç¾¤çš„å®šä¹‰ã€‚ä¸éš¾è¯æ˜æ¤­åœ†æ›²çº¿ä¸Šçš„åŠ æ³•æ˜¯ä¸€ä¸ªé˜¿è´å°”ç¾¤ã€‚ æ¤­åœ†æ›²çº¿ä¸Šçš„ä¹˜æ³• ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•è®¡ç®—åŠ æ³•ï¼Œé‚£ä¹ˆå¦‚ä½•è®¡ç®—2P2P2Pçš„å€¼å‘¢ï¼Ÿ å…¶å®2P2P2På°±æ˜¯P+PP + PP+Pã€‚è¿˜è®°å¾—è¿‡ä¸¤ç‚¹åšç›´çº¿ä¹ˆï¼Ÿè¿™é‡Œåªæœ‰ä¸€ä¸ªç‚¹P, ç›¸å½“äºPå’ŒQé‡åˆï¼Œé‚£ä¹ˆè¿™æ®µç›´çº¿çš„æ–œç‡å°±æ˜¯è¿‡Pç‚¹çš„åˆ‡çº¿çš„æ–œç‡ï¼Œç›´æ¥æ±‚å¯¼ã€‚ k=3x12/2y1k = 3x_1^2/2y_1k=3x12â€‹/2y1â€‹ è¿™æ ·å¸¦å…¥ä¸Šè¿°å…¬å¼ R=(x3,y3)R=(x_3,y_3)R=(x3â€‹,y3â€‹) x3=k2âˆ’x1âˆ’x2x_3 = k^2 - x_1 - x_2x3â€‹=k2âˆ’x1â€‹âˆ’x2â€‹ y3=k(x1âˆ’x3)âˆ’y1y_3 = k(x_1 - x_3) - y_1y3â€‹=k(x1â€‹âˆ’x3â€‹)âˆ’y1â€‹ å°±èƒ½å¾—å‡ºR=2PR=2PR=2Pçš„å€¼äº† å¦‚ä½•è®¡ç®—3P3P3Pçš„å€¼å‘¢ï¼Ÿ ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†2P2P2Pçš„å€¼ï¼Œé‚£ä¹ˆåªéœ€è¦è®¡ç®—2P+P=3På°±å¯ä»¥å•¦è®¾2P + P = 3På°±å¯ä»¥å•¦ è®¾2P+P=3På°±å¯ä»¥å•¦è®¾Q = 2Pè¿‡ è¿‡è¿‡P$ å’Œ QQQåšç›´çº¿ï¼Œç›¸äº¤äºRâ€²R&#x27;Râ€², è¿‡Râ€²R&#x27;Râ€²åšXXXè½´å‚çº¿ç›¸äº¤äºæ›²çº¿å¦å¤–ä¸€ç‚¹RRR é‚£ä¹ˆRRRå°±æ˜¯è¿™é‡Œçš„3P3P3Pçš„å€¼å•¦ ä¾æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—nP(n&gt;0)nP(n&gt;0)nP(n&gt;0)çš„å€¼ ç¦»æ•£çš„ç‰¹æ€§ æœ‰ç©ºçš„åŒå­¦åŠ¡å¿…è¦è¯•ä¸€è¯• æå‡ºçº¸å’Œç¬”ï¼Œè®¾å®šéšæœºç‚¹PPPç”»å‡º7P7P7Pçš„ä½ç½®ã€‚ ä½ ä¼šå‘ç°1P,2P,3P....7P1P,2P,3P....7P1P,2P,3P....7Pçš„ä½ç½®ç›¸å·®å¾ˆå¤§ï¼Œæ²¡æœ‰è§„å¾‹å¯å¾ªã€‚å¦‚æœç»™å®šä¸¤ç‚¹PPPä»¥åŠ7P7P7Pçš„å€¼ï¼Œä½ èƒ½æ±‚å‡ºä¹˜æ•°777å—ï¼Ÿ å³ä¾¿æ˜¯åªæœ‰7ï¼Œè¿™é‡Œçš„è®¡ç®—é‡ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼Œå¦‚æœç»™å®šPPPå’ŒnPnPnP(nnnæ˜¯ä¸€ä¸ª22562^2562256çš„æ•°å­—),é‚£ä¹ˆé€†æ¨å‡ºnnnçš„éš¾åº¦å°±ç›¸å½“å¤§äº†ï¼Œä»¥äººç±»æ–‡æ˜ç°æœ‰æ°´å¹³ï¼Œå¾ˆéš¾åœ¨çŸ­æ—¶é—´ï¼ˆå‡ ç™¾å¹´ï¼‰è®¡ç®—å‡ºç»“æœã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ¤­åœ†æ›²çº¿æ•°å­—ç­¾åç®—æ³•å®‰å…¨æ€§è¿™ä¹ˆé«˜äº†ã€‚ ç­¾åè¿‡ç¨‹ ç”¨æˆ·æŒæœ‰å…¬é’¥KKKå’Œç§é’¥kkk, ä»¥åŠåŸæ–‡MMM éªŒè¯è¿‡ç¨‹ ç­¾åéªŒè¯è¿‡ç¨‹ ï¼Œæ›´å…·ä½“çš„,æ˜¯secp256k1æ¤­åœ†æ›²çº¿ã€‚ https://en.bitcoin.it/wiki/Secp256k1 æ­¤æ¤­åœ†æ›²çº¿çš„æ–¹ç¨‹æ˜¯ y2=x3+7y^2 = x^3 + 7y2=x3+7 è¿™ä¸ªæ–¹ç¨‹çš„å›¾åƒçœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­ï¼š https://www.desmos.com/calculator/ialhd71we3 ä»r,s,vä¸­åæ¨å‡ºå…¬é’¥","categories":[{"name":"ä»¥å¤ªåŠ","slug":"ä»¥å¤ªåŠ","permalink":"http://formyown.github.io/categories/ä»¥å¤ªåŠ/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://formyown.github.io/tags/Java/"},{"name":"ä»¥å¤ªåŠ","slug":"ä»¥å¤ªåŠ","permalink":"http://formyown.github.io/tags/ä»¥å¤ªåŠ/"},{"name":"Ethereum","slug":"Ethereum","permalink":"http://formyown.github.io/tags/Ethereum/"},{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"http://formyown.github.io/tags/åŠ å¯†/"}]}]}